"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),V=require("react"),l=require("./SelectParts.cjs"),E=require("../hooks/useId.cjs"),H=require("../hooks/useIntersection.cjs"),O=require("../Box/Box.cjs"),W=require("../Typography/Typography.cjs"),z=require("../Field/Field.cjs"),D=require("../Flex/Flex.cjs"),A=require("../Field/FieldLabel.cjs"),G=require("../Field/FieldHint.cjs"),J=require("../Field/FieldError.cjs");function K(t){if(t&&t.__esModule)return t;const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(t){for(const n in t)if(n!=="default"){const s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,s.get?s:{enumerable:!0,get:()=>t[n]})}}return i.default=t,Object.freeze(i)}const d=K(V),Q=({children:t,clearLabel:i="Clear",customizeContent:n,disabled:s,error:a,hint:m,id:q,label:p,labelAction:y,onChange:u,onClear:h,onReachEnd:x,placeholder:F,required:g,selectButtonTitle:X,startIcon:R,size:T="M",value:f,...B})=>{const[C,j]=d.useState(),[_,$]=d.useState(!1),o=E.useId(q),v=`${o}-hint`,w=`${o}-error`,P=r=>{u?u(typeof f=="number"?Number(r):r):j(r)},k=r=>{$(r)},L=r=>{h&&h(r),u||j("")},S=d.useRef(null),M=()=>{S.current.focus()},b=d.useRef(null),I=`intersection-${CSS.escape(o)}`,N=r=>{x&&x(r)};H.useIntersection(b,N,{selectorToWatch:`#${I}`,skipWhen:!_});const c=(typeof f<"u"?f.toString():C)??"";return e.jsx(z.Field,{hint:m,error:a,id:o,required:g,children:e.jsxs(D.Flex,{direction:"column",alignItems:"stretch",gap:1,children:[e.jsx(A.FieldLabel,{onClick:M,action:y,children:p}),e.jsxs(l.Root,{onOpenChange:k,disabled:s,required:g,onValueChange:P,value:c,...B,children:[e.jsx(l.Trigger,{ref:S,"aria-label":p,"aria-describedby":`${v} ${w}`,id:o,startIcon:R,size:T,hasError:!!a,disabled:s,clearLabel:i,onClear:c&&h?L:void 0,children:e.jsx(l.Value,{placeholder:F,textColor:c?"neutral800":"neutral600",children:c&&n?n(c):void 0})}),e.jsx(l.Portal,{children:e.jsx(l.Content,{position:"popper",sideOffset:4,children:e.jsxs(l.Viewport,{ref:b,children:[t,e.jsx(O.Box,{id:I,width:"100%",height:"1px"})]})})})]}),e.jsx(G.FieldHint,{}),e.jsx(J.FieldError,{})]})})},U=d.forwardRef(({value:t,startIcon:i,children:n,...s},a)=>e.jsxs(l.Item,{ref:a,value:t.toString(),...s,children:[i&&e.jsx(O.Box,{as:"span","aria-hidden":!0,children:i}),e.jsx(W.Typography,{textColor:"neutral800",children:e.jsx(l.ItemText,{children:n})})]}));exports.SingleSelect=Q;exports.SingleSelectOption=U;
